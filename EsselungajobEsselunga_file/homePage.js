function retrieveCaptchaKey($http){return $http.get("/esselungajob20/services/validateCaptcha/siteKey").success(function(key){myApp.setSiteKey(key)}).error(function(error){})}var config={endpoints:{root:"/esselungajob20/services/",login_url:"login",user_url:"auth/user",user_delete_account:"registration/delete-account",logout_url:"auth/logout",user_get_datipersonali:"auth/datipersonali",user_get_datipersonali_contatti:"auth/datipersonali/contatti",user_update_datipersonali:"auth/datipersonali/update",esperienze_url:"auth/esperienza",conoscenze_url:"auth/conoscenza",contattaci:"segnalazione",cv_formazione:"auth/formazione",cv_validate_formazione:"auth/formazione/validate",cv_get_altreinfo:"auth/other-info/getCvOtherInfo",cv_altreinfo_ordini_professionali_url:"other-info/ProfessionalOrders",cv_file_upload:"auth/other-info/upload",cv_remove_attachment:"auth/other-info/removeAttachedCv",cv_get_attachments:"auth/other-info/nameAttachCv/:type",cv_altreinfo_contratti:"experience/relationshipType",cv_altreinfo_save:"auth/other-info/saveCvOtherInfo",cv_remove_formazione:"auth/formazione/remove",cv_remove_conoscenza:"auth/conoscenza/removeCvSkill",cv_remove_lingua:"auth/conoscenza/removeCvLanguages",cv_remove_esperienza:"auth/esperienza/remove",register_profile_url:"registration/",subscribe_jobday_url:"",offerta_dettaglio_url:"positions/detail/:id",offerta_candidati:"",autocandidatura_settori:"positions/department/generalPositions",posizioni_aperte_url:"positions/department/:positionId",registration_url:"registration/:section/:typologies/:typologyId",offerta_lista_offerte_simili:"positions/listDetail/:id",locality_url:"locality/:cities/:type",filtro_posizioni_url:"job-position-filter/home/:positionId",logger_url:"logger",facolta_url:"formazione/facolta",corso_laurea_url:"formazione/corsolaurea",select_conoscenze_url:"knowledge-filter",select_conoscenze_info_url:"/skills/INFO",select_conoscenze_spec_url:"/skills/SPEC",select_conoscenze_language_url:"/language",conoscenze_info_url:"/cvSkills/INFO",conoscenze_spec_url:"/cvSkills/SPEC",conoscenze_language_url:"/cvLanguages",conoscenze_save_url:"/saveCvSkill",esperienze_combo_url:"experience",esperienze_combo_mansione_url:"/job",esperienze_combo_settori_url:"/sector",esperienze_combo_tipocontratti_url:"/relationshipType",esperienze_combo_motivazioni_url:"/terminationReason",candidati_URL:"auth/candidati/:type/:id",candidatiLight_URL:"auth/candidati/candidaturaWizardLight",profile_colloqui:"auth/memoColloqui",profile_delete_colloquio:"auth/memoColloqui/remove",profile_jobdays:"auth/job-application/getJobDaysById",profile_delete_jobday:"auth/job-application/removeJobDayPosition",profile_candidature:"auth/job-application/getLastPositions",profile_candidatura_pendente:"auth/job-application/getPendingPosition",profile_delete_candidatura:"auth/job-application/removePosition",jobday_list:"job-day-list",verify_jobday:"auth/candidati/verify-jobday/:id",jobday_questions:"auth/job-day-list/questions/:id",jobday_questions_save:"auth/candidati/jobday",change_pwd:"auth/datipersonali/change-password",new_pwd:"registration/choose-new-password",contatti_motivo_segnalazione:"segnalazione/tipo-segnalazioni",recoveryPswSendMail:"registration/recovery-password",change_mail:"auth/datipersonali/change-email",posizioni_evidenza:"positions/highlight",canali_reclutamento:"datipersonali/recruitment-channels",offerta_dettaglio_autocandidatura_url:"positions/department/generalPositions/detail/:id",send_mail_memo:"auth/memoColloqui/sendMail",metadata_AEM:"/content/dam/ejb20/posizioniDettaglio/:idPosizione/:idPosizione.jpg/jcr:content/metadata.json",metadata_fallback_AEM:"/content/dam/ejb20/posizioniDettaglio/defaultCard.jpg/jcr:content/metadata.json",carouselImageMeta_AEM:"/content/dam/ejb20/posizioniDettaglio/",reverseCf:"datipersonali/reverseCF",servletIE9Upload:"auth/UploadFile",suggestion:"searchengine/suggestion",result:"searchengine/result",popularquery:"searchengine/popularquery",confirm_candidate:"auth/candidati/confirm/:id/:type",propertyActiveUploadFileMobile:"properties/activeUploadMobile",jobday_active:"job-day-list/expire/:id"},events:{SERVER_ERROR:"service:error",ERROR509:"service:error509",CV_STEPCHANGED:"cv:stepChanged",CV_STEPSTATECHANGED:"cv:stepStateChanged",CV_FETCH:"cv:fetchCV",USER_LOGIN:"user:login",USER_LOGOUT:"user:logout",LOGIN_CAPTCHA:"login:captcha",RESET_CAPTCHA:"reset:captcha",RECOVERY_CAPTCHA:"recovery:captcha",SHOW_CAPTCHA:"show:captcha",WORKS_CLOSE_AREA_NEGOZI_POPUP:"works:closePopup"},urls:{homepage:"/content/ejb20/it/homepage.html",profilo:"/content/ejb20/it/homepage/areaPersonale.html",dati_personali:"/content/ejb20/it/homepage/areaPersonale/datiPersonali.html",curriculum:"/content/ejb20/it/homepage/areaPersonale/cvComplete.html",negozio:"/content/ejb20/it/homepage/lavora-con-noi/negozio.html",funzioni_centrali:"/content/ejb20/it/homepage/lavora-con-noi/lavora-con-noi-centrali.html",offerta_dettaglio:"/content/ejb20/it/homepage/lavora-con-noi/offerta-dettaglio.html",registration:"/content/ejb20/it/homepage/registration.html",profile:"areapersonale.html",registration_send_mail:"/content/ejb20/it/homepage/registration/receive-mail.html",logo_esselunga:"/content/dam/ejb20/LOGO-Esselunga.jpg",logo_esserbella:"/content/dam/ejb20/LOGO-Esserbella.jpg",logo_bar:"/content/dam/ejb20/LOGO-BarAtlantic.jpg",placeholder_jobday:"/content/dam/ejb20/eventi/default.jpg",path_image_jobday:"/content/dam/ejb20/eventi/",job_day_questionario:"/content/ejb20/it/homepage/jobdayQuestionario.html",job_day_ok_questionario:"/content/ejb20/it/homepage/questionarioConferma.html",recoveryPswUrl:"/content/ejb20/it/homepage/password/psw1.html",sendMailRecoveryPsw:"/content/ejb20/it/homepage/password/psw2.html",change_pwd:"/content/ejb20/it/homepage/password/psw5.html",thankyou_new_pwd:"/content/ejb20/it/homepage/password/psw4.html",contactOk:"/content/ejb20/it/homepage/contattaci/grazie-contattaci.html",wizard:"/content/ejb20/it/homepage/wizardCv.html",onlyFile:"/content/ejb20/it/homepage/uploadCv.html",wizardLight:"/content/ejb20/it/homepage/cvUpdate.html",dettaglioAutocandidatura:"/content/ejb20/it/homepage/lavora-con-noi/offertaDettaglioAutocandidatura.html",lavorainEsserbella:"/content/ejb20/it/homepage/Profumerie-EsserBella.html",lavorainBarAtlantic:"/content/ejb20/it/homepage/BarAtlantic.html",lavorainEsselunga:"/content/ejb20/it/homepage/Esselunga.html",jobday:"/content/ejb20/it/homepage/job-day-eventi.html",risultato:"/content/ejb20/it/homepage/ricerca.html",jodayExpire:"/content/ejb20/it/homepage/jobdayexpire.html",confirmCandidate:"/content/ejb20/it/homepage/candidatura.html"},params:{debugEnabled:!0,debugInfoEnabled:!0,retryPolicyEnabled:!0,maxRetry:3,timer_slider:3e3},errorCodes:{cvIncomplete:1,tooMuchPosisitions:2,missingFormazione:3},dictionary:{genericErrorDialogTitle:"ERRORE",genericAlertDialogTitle:"AVVISO",genericWarningDialogTitle:"ATTENZIONE",genericConfirmDialogTitle:"CONFERMA",confirmDeletionDialogTitle:"CONFERMA CANCELLAZIONE",confirmCandidationDialogTitle:"CONFERMA CANDIDATURA",deleteAccountDialogTitle:"ELIMINAZIONE ACCOUNT",ZoneErrorDialogTitle:"ERRORE ZONA",missingDeptDialogTitle:"AREA MANCANTE",userNotLoggedDialogTitle:"Utente non loggato",sessionExpiredDialogTitle:"Sessione Scaduta",confirmCandidatePositionDialogMessage:"Sei sicuro di volerti candidare per questa posizione?",candidateDialogMessage:"Candidatura inviata con successo!",confirmDeleteJobDayMessage:"Vuoi davvero eliminare questo jobday?",confirmDeleteCandidaturaMessage:"Vuoi davvero eliminare questa candidatura?",confirmDeleteColloquioMessage:"Vuoi davvero eliminare questo colloquio?",confirmAccountDeletionDialogMessage:"Sei sicuro di voler cancellare l'account?",confirmDeleteConoscenzaCVDialogMessage:"Vuoi davvero eliminare questa Conoscenza?",confirmDeleteEsperienzeCVDialogMessage:"Vuoi davvero eliminare questa Esperienza?",confirmDeleteFormazioneCVDialogMessage:"Vuoi davvero eliminare questa Formazione?",errorDuringAccountDeletionDialogMessage:"Errore durante la cancellazione dell'account",checkMailDialogMessage:"Controlla la tua casella di posta",emailSentDialogMessage:"La mail è stata inviata",youCantSelectOptionDialogMessage:"Non puoi selezionare questa opzione",selectDepartmentDialogMessage:"Seleziona l'area",willLostUnsavedChangesDialogMessage:"Hai apportato delle modifiche senza salvare. Continuare perdendo le modifiche?",insertLanguageDialogMessage:"Per proseguire è necessario specificare le competenze linguistiche",duplicateProfOrderDialogMessage:"Ordine professionale già presente nel curriculum",invalidProfOrderDialogMessage:"Devi selezionare uno stato di appartenenza ed un ordine professionale",emailUpdatedDialogMessage:"Email aggiornata con successo. Per convalidare la nuova username clicca sul link che trovi all'interno dell'email che ti abbiamo appena inviato al tuo nuovo indirizzo di posta elettronica",passwordUpdatedDialogMessage:"Cambio password avvenuto con successo",jobdayReturnToFlux:"Adesso puoi procedere a compilare il questionario per iscriverti al Jobday",uploadSuccessDialogMessage:"File caricato correttamente",gaFreeVisit:"free_visit",gaLogger:"logged_user"},images:{base:"/esselungajob20/app/images/",search_lfs:"search_lens.png",filter_button:"filter_button.png"},loginShowTime:"3000",maxPollingRequests:60};angular.module("common",["loggerModule","applicationErrorModule","retryPolicyHandlerModule","httpErrorHandlerModule","arrayModule","headerLogin","suggerimentoLfsApp","works","comboService","lavoroService","listFilterService","queryStringService","scrollService","userService"]),function(){"use strict";angular.module("applicationErrorModule",[]).factory("ApplicationError",function(){function ApplicationError(message,cause,url,title,action){this.title=title,this.message=message,this.url=url,this.cause=cause,this.action=angular.isString(action)?action:"Continua"}return ApplicationError.prototype=Object.create(Error.prototype),ApplicationError.prototype.constructor=ApplicationError,ApplicationError}).factory("errorHandlerDecorator",["$injector","ApplicationError",function($injector,ApplicationError){return{handle:function(exception){var logger=$injector.get("logger");exception instanceof ApplicationError?(logger.debug("Gestione errore applicativo"),angular.isString(exception.cause)?logger.error(exception.cause+" :: "+exception.message):logger.error(exception.message),$inject.get("popupService").infoPopup(config.dictionary.genericErrorDialogTitle,"Si è verificato un errore nell'applicazione, si prega di riprovare più tardi")):logger.error(exception)}}}])}(),angular.module("arrayModule",[]).factory("arrayFactory",function(){function Array(){this.data=[]}return Array.prototype.push=function(item){return this.data.push(item),this.data.length},Array.prototype.getSize=function(){return this.data.length},Array.prototype.modify=function(newItem,index){this.data[index]=newItem},Array.prototype.remove=function(index){return this.data.splice(index,1),this.data.length},Array.prototype.getData=function(){return this.data},{Array:Array}}),function(){"use strict";angular.module("httpErrorHandlerModule",["ui.bootstrap"]).factory("httpErrorHandler",["$q","$injector","logger","retryPolicyHandler","$window",function($q,$injector,logger,retryPolicyHandler,$window){return{request:function(config){return angular.isDefined(config.tryCount)||(config.tryCount=1),config},responseError:function(response){var msg,mustSendError=!0;config.params.maxRetry,$injector.get("modalDialog");if(config.params.retryPolicyEnabled&&retryPolicyHandler.retryPolicy(response),500==response.status){msg="Si è verificato un problema, si prega di riprovare più tardi";var popupService=$injector.get("popupService");popupService.infoPopup(config.dictionary.genericErrorDialogTitle,msg),response.config.url.indexOf("/logger")==-1&&angular.isString(msg)&&mustSendError&&logger.error(msg,response.config.url,response.status,response.config.method)}else switch(response.status){case 401:logger.warn("Accesso non autorizzato"),mustSendError=!1;var url=response.config.url;if(url.indexOf("auth/user")==-1&&url.indexOf("services/login")==-1&&url.indexOf("datipersonali/contatti")==-1){var popupService=$injector.get("popupService");if(!popupService.isOpenPopUpInfo()){var callbackArgs={homepage:config.urls.homepage};popupService.infoPopup(config.dictionary.userNotLoggedDialogTitle,config.dictionary.userNotLoggedDialogTitle,callbackArgs,function(args){$window.location.href=args.homepage})}}break;case 402:logger.warn("Sessione Scaduta"),mustSendError=!1;var popupService=$injector.get("popupService"),url=response.config.url;if(url.indexOf("auth/user")==-1&&url.indexOf("services/login")==-1&&!popupService.isOpenPopUpInfo()){var callbackArgs={homepage:config.urls.homepage};popupService.infoPopup(config.dictionary.sessionExpiredDialogTitle,config.dictionary.sessionExpiredDialogTitle,callbackArgs,function(args){$window.location.href=args.homepage})}break;case 508:msg=response.data.message;var popupService=$injector.get("popupService");popupService.infoPopup(config.dictionary.genericAlertDialogTitle,response.data.message);break;case 404:msg="Servizio non trovato"}return $q.reject(response)}}}])}(),function(){"use strict";angular.module("httpSpinnerModule",[]).factory("httpSpinnerInterceptor",["$q","$injector","logger",function($q,$injector,logger){function isExcluded(config){var exclude=!1,match=!1;return angular.forEach(exluded,function(path){if(path.indexOf(":")>0){var segments=path.split(":");match=config.url.indexOf(segments[0])>=0,match=match&&config.method===segments[1]}else match=config.url.indexOf(path)>=0;exclude=exclude||match}),exclude}var exluded=[".html"];return{request:function(config){return!isExcluded(config),config},response:function(response){return!isExcluded(response.config),response},responseError:function(response){return $q.reject(response)}}}])}(),function(){"use strict";angular.module("retryPolicyHandlerModule",[]).factory("retryPolicyHandler",["$q","$injector","logger",function($q,$injector,logger){return{retryPolicy:function(response){var maxRetry=config.params.maxRetry;return response.status===-1&&response.config.tryCount<maxRetry?(response.config.tryCount++,logger.warn("Tentativo n.%s di accesso alla url '%s'",response.config.tryCount,response.config.url),$injector.get("$http")(response.config)):void(response.status>0&&response.config.tryCount>1&&logger.debug("Connessione alla url '%s' riuscita al tentativo n.%s",response.config.url,response.config.tryCount))}}}])}(),function(){"use strict";angular.module("blockNonNumberModule",[]).directive("blockNonNumber",function(){return{restrict:"A",require:"?ngModel",link:function(scope,element,attrs,modelCtrl){modelCtrl.$parsers.push(function(inputValue){if(void 0==inputValue)return"";var transformedInput=inputValue.replace(/[^0-9]/g,"");return transformedInput!==inputValue&&(modelCtrl.$setViewValue(transformedInput),modelCtrl.$render()),transformedInput})}}})}(),function(){"use strict";angular.module("imagePlaceholderModule",[]).directive("errSrc",function(){return{link:function(scope,element,attrs){element.bind("error",function(){attrs.src!=attrs.errSrc&&attrs.$set("src",attrs.errSrc)})}}})}(),function(){"use strict";function comboService($resource){var srv=this,localityEndpoint=$resource(config.endpoints.root+config.endpoints.locality_url),registrationEndpoint=$resource(config.endpoints.root+config.endpoints.registration_url),facoltaEndpoint=$resource(config.endpoints.root+config.endpoints.facolta_url),corsoLaureaEndpoint=$resource(config.endpoints.root+config.endpoints.corso_laurea_url),conLingueEndPoint=$resource(config.endpoints.root+config.endpoints.select_conoscenze_url+config.endpoints.select_conoscenze_language_url),conInfoEndPoint=$resource(config.endpoints.root+config.endpoints.select_conoscenze_url+config.endpoints.select_conoscenze_info_url),conSpecEndPoint=$resource(config.endpoints.root+config.endpoints.select_conoscenze_url+config.endpoints.select_conoscenze_spec_url),esperienzeMansioniEndPoint=$resource(config.endpoints.root+config.endpoints.esperienze_combo_url+config.endpoints.esperienze_combo_mansione_url),esperienzeSettoriEndPoint=$resource(config.endpoints.root+config.endpoints.esperienze_combo_url+config.endpoints.esperienze_combo_settori_url),esperienzeTipoContrattiEndPoint=$resource(config.endpoints.root+config.endpoints.esperienze_combo_url+config.endpoints.esperienze_combo_tipocontratti_url),esperienzeMotivazioniEndPoint=$resource(config.endpoints.root+config.endpoints.esperienze_combo_url+config.endpoints.esperienze_combo_motivazioni_url),ordiniProfessionaliEndpoint=$resource(config.endpoints.root+config.endpoints.cv_altreinfo_ordini_professionali_url),tipoContrattiEndpoint=$resource(config.endpoints.root+config.endpoints.cv_altreinfo_contratti),getMotivoSegnalazione=$resource(config.endpoints.root+config.endpoints.contatti_motivo_segnalazione),canaliReclutamentoEndpoint=$resource(config.endpoints.root+config.endpoints.canali_reclutamento);srv.getStati=function(){return localityEndpoint.query({type:"countries"}).$promise},srv.getProvince=function(){return localityEndpoint.query({type:"provinces"}).$promise},srv.getComuni=function(provId){return localityEndpoint.query({cities:"cities",type:provId}).$promise},srv.getTitoliStudio=function(){return registrationEndpoint.query({section:"qualifications"}).$promise},srv.getTipologiaStudio=function(studioId){return registrationEndpoint.query({section:"qualifications",typologies:"typologies",typologyId:studioId}).$promise},srv.getPatenti=function(){return registrationEndpoint.query({section:"driver-licence-list"}).$promise},srv.getFacolta=function(){return facoltaEndpoint.query().$promise},srv.getCorsoLaurea=function(){return corsoLaureaEndpoint.query().$promise},srv.getTipoContratti=function(){return tipoContrattiEndpoint.query().$promise},srv.getMotivoSegnalazione=function(){return getMotivoSegnalazione.query().$promise},srv.getConoscenzaLingue=function(){return conLingueEndPoint.get().$promise},srv.getConoscenzaInformatica=function(){return conInfoEndPoint.get().$promise},srv.getConoscenzaSpecialistica=function(){return conSpecEndPoint.get().$promise},srv.getCVEsperienzeMansioni=function(){return esperienzeMansioniEndPoint.query().$promise},srv.getCVEsperienzeSettori=function(){return esperienzeSettoriEndPoint.query().$promise},srv.getCVEsperienzeTipoRapporti=function(){return esperienzeTipoContrattiEndPoint.query().$promise},srv.getCVEsperienzeMotivazioni=function(){return esperienzeMotivazioniEndPoint.query().$promise},srv.getOrdiniProfessionali=function(){return ordiniProfessionaliEndpoint.query().$promise},srv.getCanaliReclutamento=function(){return canaliReclutamentoEndpoint.query().$promise},srv.getCValtreInfo=function(){return{appartenenzaOrdineProfessionale:[{id:1,label:"Attualmente iscritto"},{id:2,label:"Abilitato ma non iscritto"}]}}}comboService.$inject=["$resource"],angular.module("comboService",["ngResource"]).service("comboService",comboService)}(),function(){"use strict";function dateParserService(){var srv=this;srv.stringToDate=function(s){if(null==s)return null;var d=s.split("/");if(3!=d.length)return null;var giorno=parseInt(d[0]),mese=parseInt(d[1]),anno=parseInt(d[2]);return new Date(anno,mese-1,giorno)},srv.dateToString=function(d){if(null==d)return null;var giorno=d.getDate(),mese=d.getMonth()+1,anno=d.getFullYear();return mese<10&&(mese="0"+mese),giorno<10&&(giorno="0"+giorno),giorno+"/"+mese+"/"+anno}}angular.module("dateParserService",[]).service("dateParserService",dateParserService)}(),function(){"use strict";function isMobileService(){var srv=this;srv.isMobile=function(){var check=!1;return function(a){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(a)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(a.substr(0,4)))&&(check=!0)}(navigator.userAgent||navigator.vendor||window.opera),check}}angular.module("isMobileService",[]).service("isMobileService",isMobileService)}(),function(){"use strict";function lavoroService($resource){var srv=this,jobPositionFilter=$resource(config.endpoints.root+config.endpoints.filtro_posizioni_url),jobsList=$resource(config.endpoints.root+config.endpoints.posizioni_aperte_url),jobPositionList=$resource(config.endpoints.root+config.endpoints.offerta_lista_offerte_simili),candidati=$resource(config.endpoints.root+config.endpoints.candidati_URL),posizioniCarousel=$resource(config.endpoints.root+config.endpoints.posizioni_evidenza),autocandidature=$resource(config.endpoints.root+config.endpoints.autocandidatura_settori),metataDataAEM=$resource(config.endpoints.metadata_AEM),metaFallbackAEM=$resource(config.endpoints.metadata_fallback_AEM);srv.getMetaFallback=function(){return metaFallbackAEM.get({content:":content"}).$promise},srv.getMetaDataInfo=function(idPosizione){return metataDataAEM.get({idPosizione:idPosizione,content:":content"}).$promise},srv.getFiltroPosizioni=function(positionId){return jobPositionFilter.get({positionId:positionId}).$promise},srv.getPosizioniAperte=function(positionId){return jobPositionList.query({id:positionId}).$promise},srv.getOfferteLavoro=function(type){return jobsList.query({positionId:type}).$promise},srv.convertJsonNegozio=function(resp){var result=[];for(var i in resp){resp[i].zone.sort(function(a,b){var x=a.label.toLowerCase(),y=b.label.toLowerCase();return x<y?-1:x>y?1:0}),result.push({id:"zona-"+i,label:"- "+resp[i].regione.toUpperCase(),disabled:!0});for(var j in resp[i].zone)result.push({id:resp[i].zone[j].id,label:resp[i].zone[j].label})}return result},srv.inviaCandidatura=function(type,id,completaAction){return candidati.save({type:type,id:id,completaAction:completaAction}).$promise},srv.getAutocandidature=function(){return autocandidature.query().$promise},srv.getCarouselPositions=function(){return posizioniCarousel.get().$promise}}lavoroService.$inject=["$resource"],angular.module("lavoroService",["ngResource"]).service("lavoroService",lavoroService)}(),function(){"use strict";function listFilterService(){var srv=this;srv.listFilter=function(items,filterby){if("undefined"!=typeof items){if(null==filterby)return items;for(var result=[],i=0;i<items.length;i++){var admittable=!0;for(var j in filterby)admittable=null!=items[i][j]&&items[i][j].toUpperCase()==filterby[j].toUpperCase()?admittable&&!0:admittable&&!1;1==admittable&&result.push(items[i])}return result}}}angular.module("listFilterService",[]).service("listFilterService",listFilterService)}(),function(){"use strict";function Logger($log,$window,$rootScope,$injector,$filter){function activate(){logBuffer=$window.localStorage?$window.localStorage.getItem("logger"):null,logBuffer=null===logBuffer?[]:logBuffer.split("||"),vm.sendLogEnabled=!0}function getUserAgent(){return $window.navigator&&$window.navigator.userAgent?$window.navigator.userAgent:"unknow user-agent"}function isIE9(){return $window.navigator.appName.indexOf("Internet Explorer")!=-1&&$window.navigator.appVersion.indexOf("MSIE 9")!=-1}function storeLog(level,msg,args){var logDate=$filter("date")(new Date,"dd/MM/yyyy HH:mm:ss.sss");logBuffer.push(encodeURIComponent(logDate+" # "+level+" - "+msg+" - ["+args+"]")),logBuffer.length>maxBufferLength&&logBuffer.splice(0,logBuffer.length-maxBufferLength);try{$window.localStorage.setItem("logger",logBuffer.join("||"))}catch(e){}}function getLogSlice(){var maxLogLength=50;return logBuffer.length<=maxLogLength?logBuffer.slice(0):logBuffer.slice(logBuffer.length-maxLogLength)}var logBuffer,maxBufferLength=100,vm=this,removeConsoleLogging=isIE9()&&0==config.params.debugEnabled;vm.info=function(msg){removeConsoleLogging||$log.info.apply(this,arguments);var i,args="";for(i=1;i<arguments.length;i++)args+=args.length>0?", ":"",args+=arguments[i];storeLog("INFO",msg,args)},vm.debug=function(msg){removeConsoleLogging||$log.debug.apply(this,arguments);var i,args="";for(i=1;i<arguments.length;i++)args+=args.length>0?", ":"",args+=arguments[i];storeLog("DEBUG",msg,args)},vm.warn=function(msg){removeConsoleLogging||$log.warn.apply(this,arguments);var i,args="";for(i=1;i<arguments.length;i++)args+=args.length>0?", ":"",args+=arguments[i];storeLog("WARN",msg,args)},vm.error=function(msg){removeConsoleLogging||$log.error.apply(this,arguments);var i,args="";for(i=1;i<arguments.length;i++)args+=args.length>0?", ":"",args+=arguments[i];storeLog("ERROR",msg,args),vm.sendLog()},vm.error=function(msg,url,code){removeConsoleLogging||$log.error.apply(this,arguments);var i,args="";for(i=1;i<arguments.length;i++)args+=args.length>0?", ":"",args+=arguments[i];storeLog("ERROR",msg,args),vm.sendLog(url,code)},vm.sendLog=function(url,code){vm.sendLogEnabled&&$rootScope.$applyAsync(function(){var logData={clientInfo:getUserAgent(),logs:getLogSlice(),url:url,codError:code};logData.logs.length>0&&$injector.get("$http").post(config.endpoints.root+config.endpoints.logger_url,logData).then(function(){$log.info("Informazioni anonime di log inviate al server (%s)",logData.logs.length)},function(response){401!==response.status&&$log.warn("ATTENZIONE - impossibile inviare i dati anonimi di log")})})},vm.needData=function(name){removeConsoleLogging||$log.debug("In attesa dati per '%s'",name)},vm.activationCompleted=function(name){removeConsoleLogging||$log.debug("** %s - inizializzazione completata **",name)},vm.destructionCompleted=function(name){removeConsoleLogging||$log.debug("** %s - destruction completata **",name)},vm.dataReceived=function(name){removeConsoleLogging||$log.debug("Dati per '%s' ricevuti",name)},vm.getLogsAsString=function(){return getLogSlice().join("||")},activate()}Logger.$inject=["$log","$window","$rootScope","$injector","$filter"],angular.module("loggerModule",[]).service("logger",Logger)}(),function(){"use strict";function ModalDialogService($uibModal,ApplicationError,logger){var vm=this;vm.activeTasks=0,vm.openModalDialog=function(componentName,invocables,size){if(!componentName||0===componentName.length)throw new ApplicationError("Nome componente non trovato per apertura dialog modale","modalService");return $uibModal.open({animation:!0,component:componentName,size:size||"sm",resolve:invocables,backdrop:"static",keyboard:!1})},vm.showSpinner=function(){vm.activeTasks++,logger.warn("TODO implementazione showSpinner")},vm.closeSpinner=function(){0===--vm.activeTasks,logger.warn("TODO implementazione closeSpinner")}}ModalDialogService.$inject=["$uibModal","ApplicationError","logger"],angular.module("modalDialogModule",["ui.bootstrap"]).service("modalDialog",ModalDialogService)}(),function(){"use strict";function propertiesService($resource){var srv=this,propertyActiceUploadFileMobile=$resource(config.endpoints.root+config.endpoints.propertyActiveUploadFileMobile),validJobday=$resource(config.endpoints.root+config.endpoints.jobday_active);srv.activeUploadFileMobile=function(){return propertyActiceUploadFileMobile.get().$promise},srv.validJobday=function(jobDayID){return validJobday.get({id:jobDayID}).$promise}}propertiesService.$inject=["$resource"],angular.module("propertiesService",["ngResource"]).service("propertiesService",propertiesService)}(),function(){"use strict";function queryStringService(){var srv=this;srv.getUrlVars=function(){for(var hash,vars=[],hashes=window.location.href.slice(window.location.href.indexOf("?")+1).split("&"),i=0;i<hashes.length;i++)hash=hashes[i].split("="),vars.push(hash[0]),vars[hash[0]]=hash[1];return vars},srv.getParameterByName=function(name,url){url||(url=window.location.href),name=name.replace(/[\[\]]/g,"\\$&");var regex=new RegExp("[?&]"+name+"(=([^&#]*)|&|#|$)"),results=regex.exec(url);return results?results[2]?decodeURIComponent(results[2].replace(/\+/g," ")):"":null}}angular.module("queryStringService",[]).service("queryStringService",queryStringService)}(),function(){"use strict";function scrollService(logger){function scroll(ref){try{var st=$(ref).offset();"undefined"!=typeof st&&$("html, body").animate({scrollTop:st.top-180},666)}catch(e){logger.debug(e)}}var srv=this;srv.scrollToInvalid=function(){var firstInvalid=$(".ng-invalid")[1];scroll(firstInvalid)},srv.scrollToReference=function(ref){var reference=$(ref);scroll(reference)}}scrollService.$inject=["logger"],angular.module("scrollService",[]).service("scrollService",scrollService)}(),function(){"use strict";function userService($resource,$q){var srv=this,userInfo=$q.defer(),loginResource=$resource(config.endpoints.root+config.endpoints.login_url),userResource=$resource(config.endpoints.root+config.endpoints.user_url),logoutResource=$resource(config.endpoints.root+config.endpoints.logout_url),deleteAccount=$resource(config.endpoints.root+config.endpoints.user_delete_account,{},{deleteUser:{method:"POST"}}),getCandidature=$resource(config.endpoints.root+config.endpoints.profile_candidature),getCandidaturaPendente=$resource(config.endpoints.root+config.endpoints.profile_candidatura_pendente),removeCandidatura=$resource(config.endpoints.root+config.endpoints.profile_delete_candidatura,{},{deleteCandidatura:{method:"POST"}}),getColloquio=$resource(config.endpoints.root+config.endpoints.profile_colloqui),removeColloquio=$resource(config.endpoints.root+config.endpoints.profile_delete_colloquio,{},{deleteColloquio:{method:"POST"}}),getJobdays=$resource(config.endpoints.root+config.endpoints.profile_jobdays),removeJobday=$resource(config.endpoints.root+config.endpoints.profile_delete_jobday,{},{deleteJobday:{method:"POST"}}),getDatiPersonali=$resource(config.endpoints.root+config.endpoints.user_get_datipersonali),getDatiPersonaliContatti=$resource(config.endpoints.root+config.endpoints.user_get_datipersonali_contatti),updateDatiPersonali=$resource(config.endpoints.root+config.endpoints.user_update_datipersonali),changeEmail=$resource(config.endpoints.root+config.endpoints.change_mail),changePassword=$resource(config.endpoints.root+config.endpoints.change_pwd),sendMailMemo=$resource(config.endpoints.root+config.endpoints.send_mail_memo),reverseCF=$resource(config.endpoints.root+config.endpoints.reverseCf);srv.reverseCF=function(cf){return reverseCF.save({codiceFiscale:cf}).$promise},srv.changePassword=function(oldPwd,newPwd,confPwd){return changePassword.save({
oldPassword:oldPwd,password:newPwd,confermaPassword:confPwd}).$promise},srv.sendMailMemo=function(id){return sendMailMemo.save({id:id}).$promise},srv.userLogged=!1,srv.getUserInfo=function(){return userInfo.promise},srv.getDatiPersonali=function(){return getDatiPersonali.get().$promise},srv.getDatiPersonaliContatti=function(){return getDatiPersonaliContatti.get().$promise},srv.updateDatiPersonali=function(data){return updateDatiPersonali.save(data).$promise},srv.logout=function(){return srv.userLogged=!1,userInfo.reject("logged out"),logoutResource.save().$promise},srv.login=function(email,password,captcha){return loginResource.save({email:email,password:password,captcha:captcha},function(user){srv.userLogged=!0,userInfo.resolve(user)}).$promise},srv.isUserLogged=function(){return userResource.get({},function(user){srv.userLogged=!0,userInfo.resolve(user)}).$promise},srv.getCandidature=function(){return getCandidature.query().$promise},srv.getCandidaturaPendente=function(){return getCandidaturaPendente.get().$promise},srv.getColloqui=function(){return getColloquio.query().$promise},srv.getJobDays=function(){return getJobdays.query().$promise},srv.removeColloquio=function(collID){return removeColloquio.deleteColloquio({id:collID}).$promise},srv.removeCandidatura=function(listCandidature){return removeCandidatura.deleteCandidatura(listCandidature).$promise},srv.removeJobday=function(jobdayID){return removeJobday.deleteJobday({id:jobdayID}).$promise},srv.deleteAccount=function(email){return deleteAccount.deleteUser({email:email}).$promise},srv.changeMail=function(email,confirmEmail){return changeEmail.save({email:email,confermaEmail:confirmEmail}).$promise}}userService.$inject=["$resource","$q"],angular.module("userService",["ngResource"]).service("userService",userService)}(),function(){"use strict";function validationErrorHandlerService(scrollService,$rootScope,logger){var srv=this;srv.fiveOnineHandler=function(args){if(logger.debug("BROADCASTING 509 HANDLER...",args.data),509==args.status){var fieldId="#"+args.data.field,scrolla=angular.element(fieldId).parent();$rootScope.$broadcast(config.events.ERROR509,{wrongField:args.data.field,errorMsg:args.data.message}),scrollService.scrollToReference(scrolla)}},srv.dateCompare=function(d1,d2){if(null==d1||null==d2)return-1;var t1=d1.getTime(),t2=d2.getTime();return t1==t2?0:t1>t2}}validationErrorHandlerService.$inject=["scrollService","$rootScope","logger"],angular.module("validationErrorHandlerService",[]).service("validationErrorHandlerService",validationErrorHandlerService)}(),angular.module("errorPopup",[]),angular.module("candidatiButton",["works","modalDialogModule","userService","loggerModule","applicationErrorModule","retryPolicyHandlerModule","httpErrorHandlerModule","popup"]),angular.module("popup",[]).service("popupService",["modalDialog","logger",function(modalDialog,logger){var srv=this,openPopUpInfo=!1;srv.isOpenPopUpInfo=function(){return openPopUpInfo},srv.setOpenPopUpInfo=function(open){openPopUpInfo=open},srv.infoPopup=function(title,message,cbArgs,cbOk){logger.debug("opening Info Dialog:",title,message);var infoInvocable={message:function(){return message},title:function(){return title}};srv.setOpenPopUpInfo(!0);var modalInstance=modalDialog.openModalDialog("popup",infoInvocable);modalInstance.result.then(function(selectedItem){logger.debug("popup choice",selectedItem),srv.setOpenPopUpInfo(!1),"ok"==selectedItem&&"undefined"!=typeof cbOk&&null!=cbOk&&cbOk(cbArgs)})},srv.okCancelPopup=function(title,message,cbArgs,cbOk,cbCancel){logger.debug("opening ok-cancel Dialog:",title,message);var items=["Item ONE","Item TWO","Item THREE",message,title],okCancelInvocable={items:function(){return items}},modalInstance=modalDialog.openModalDialog("popupOkCancelDialog",okCancelInvocable);modalInstance.result.then(function(selectedItem){logger.debug("popup choice",selectedItem),"ok"==selectedItem&&"undefined"!=typeof cbOk&&null!=cbOk&&cbOk(cbArgs)},function(selectedItem){logger.debug("popup choice",selectedItem),"undefined"!=typeof cbCancel&&null!=cbCancel&&cbCancel(cbArgs)})},srv.removeCandidaturePopup=function(cbOk){logger.debug("opening removeCandidaturePopup Dialog:");var modalInstance=modalDialog.openModalDialog("popupRemoveCandidatureDialog",null,"lg");modalInstance.result.then(function(selectedItem){"ok"==selectedItem&&"undefined"!=typeof cbOk&&null!=cbOk&&cbOk()})},srv.cancellaAccountPopup=function(cbOk){logger.debug("opening cancellaAccountPopup Dialog:");var modalInstance=modalDialog.openModalDialog("popupCancellaAccountDialog",null,"lg");modalInstance.result.then(function(selectedItem){"ok"==selectedItem&&"undefined"!=typeof cbOk&&null!=cbOk&&cbOk()})}}]),angular.module("suggerimentoLfsApp",["ngResource"]),angular.module("works",["loggerModule","applicationErrorModule","retryPolicyHandlerModule","httpErrorHandlerModule","modalDialogModule"]);var siteKey=null,setSiteKey=function(key){siteKey=key},myApp=angular.module("headerLogin",["loggerModule","applicationErrorModule","retryPolicyHandlerModule","httpErrorHandlerModule","httpSpinnerModule","modalDialogModule","queryStringService","popup","validationErrorHandlerService","scrollService","vcRecaptcha","isMobileService"]).config(["$provide","$httpProvider",function($provide,$httpProvider){function detectIE(){var ua=window.navigator.userAgent,msie=ua.indexOf("MSIE ");if(msie>0)return parseInt(ua.substring(msie+5,ua.indexOf(".",msie)),10);var trident=ua.indexOf("Trident/");if(trident>0){var rv=ua.indexOf("rv:");return parseInt(ua.substring(rv+3,ua.indexOf(".",rv)),10)}var edge=ua.indexOf("Edge/");return edge>0&&parseInt(ua.substring(edge+5,ua.indexOf(".",edge)),10)}$provide.decorator("$exceptionHandler",["errorHandlerDecorator",function(errorHandlerDecorator){return errorHandlerDecorator.handle}]),$httpProvider.interceptors.push("httpSpinnerInterceptor"),$httpProvider.interceptors.push("httpErrorHandler"),$httpProvider.useLegacyPromiseExtensions=!1,$httpProvider.defaults.withCredentials=!0,detectIE()&&($httpProvider.defaults.headers.get||($httpProvider.defaults.headers.get={}),$httpProvider.defaults.headers.get["Cache-Control"]="max-age=0,no-cache,no-store,post-check=0,pre-check=0",$httpProvider.defaults.cache=!1,$httpProvider.defaults.headers.get["If-Modified-Since"]="0")}]).config(["$logProvider","$anchorScrollProvider","$compileProvider",function($logProvider,$anchorScrollProvider,$compileProvider){var isIE9=window.navigator.appName.indexOf("Internet Explorer")!=-1&&navigator.appVersion.indexOf("MSIE 9")!=-1,debugEnabled=config.params.debugEnabled,debugInfoEnabled=config.params.debugInfoEnabled;isIE9&&(debugEnabled=!0,debugInfoEnabled=!0),$compileProvider.debugInfoEnabled(debugInfoEnabled),$logProvider.debugEnabled(debugEnabled),$anchorScrollProvider.disableAutoScrolling()}]);myApp.siteKey=siteKey,myApp.setSiteKey=function(newSiteKey){myApp.siteKey=newSiteKey},function(){"use strict";function ErrorPopupController(logger){var ctrl=this;ctrl.$onInit=function(){logger.activationCompleted("errorPopupController"),ctrl.message=ctrl.resolve.message},ctrl.$onDestroy=function(){logger.destructionCompleted("errorPopupController")},ctrl.ok=function(){logger.debug("Ok pressed"),ctrl.dismiss()}}ErrorPopupController.$inject=["logger"],angular.module("errorPopup").controller("errorPopupController",ErrorPopupController).component("errorPopup",{templateUrl:"/esselungajob20/app/common/modules/errorPopup/templates/errorPopup.html",controller:"errorPopupController",bindings:{dismiss:"&",resolve:"<"}})}(),function(){"use strict";function captchaController($scope,vcRecaptchaService,$http,$rootScope){var ctrl=this,myApp=angular.module("headerLogin");ctrl.response=null,ctrl.widgetId=null,ctrl.model={key:myApp.siteKey},isCaptchaLogin($http,ctrl),$scope.$on(config.events.SHOW_CAPTCHA,function(event,args){ctrl.show=args.show}),$scope.$on(config.events.RESET_CAPTCHA,function(event,args){vcRecaptchaService.reload(ctrl.widgetId),ctrl.show=!0,ctrl.check=!1,redimentionCaptcha()}),ctrl.setResponse=function(response){ctrl.response=response,"INDEX"===ctrl.position&&$rootScope.$broadcast(config.events.LOGIN_CAPTCHA,{captcha:response}),"RECOVERY"===ctrl.position&&$rootScope.$broadcast(config.events.RECOVERY_CAPTCHA,{captcha:response})},ctrl.setWidgetId=function(widgetId){ctrl.widgetId=widgetId},ctrl.cbExpiration=function(){vcRecaptchaService.reload(ctrl.widgetId),ctrl.response=null},ctrl.onCaptchaSuccess=function(captchaResult){captchaResult&&captchaResult.success?("INDEX"===ctrl.position&&$rootScope.$broadcast(config.events.LOGIN_CAPTCHA,{captcha:captchaResult}),"RECOVERY"===ctrl.position&&$rootScope.$broadcast(config.events.RECOVERY_CAPTCHA,{captcha:captchaResult})):(vcRecaptchaService.reload($scope.widgetId),ctrl.check=!1)},ctrl.$onInit=function(){}}function redimentionCaptcha(){var recaptcha=document.getElementById("g-recaptcha"),loginForm=document.getElementById("loginForm"),width=loginForm.offsetWidth,scale=width/337;recaptcha.style.transform="scale("+scale+")",recaptcha.style.webkitTransform="scale("+scale+")",recaptcha.style.transformOrigin="0 0",recaptcha.style.webkitTransformOrigin="0 0"}function isCaptchaLogin($http,ctrl){return $http.get("/esselungajob20/services/validateCaptcha/isCaptchaLogin").success(function(){ctrl.show=!1}).error(function(){ctrl.show=!0,redimentionCaptcha()})}captchaController.$inject=["$scope","vcRecaptchaService","$http","$rootScope"],angular.module("headerLogin").controller("captchaController",captchaController).component("captcha",{templateUrl:"/esselungajob20/app/common/modules/captcha/templates/captcha.html",controller:captchaController,bindings:{show:"<",position:"@"}})}(),function(){"use strict";function candidatiController(lavoroService,userService,modalDialog,$window,logger,ApplicationError,popupService){function openDialog(offertaID){ctrl.selected=void 0;var items=["Item ONE","Item TWO","Item THREE",offertaID],invocable={items:function(){return items}},modalInstance=modalDialog.openModalDialog("worksDialog",invocable);modalInstance.result.then(function(selectedItem){if(logger.debug("-- OK --"),ctrl.selected=selectedItem,selectedItem.indexOf("register")!==-1){$window.ga("send","event",config.dictionary.gaFreeVisit,"registrati",ctrl.nome);var offertaid=ctrl.selected.substring(selectedItem.indexOf("_")+1,ctrl.selected.length),queryParam="SPEC"==ctrl.tipocandidatura?"?idPosizione=":"?idAutocandidatura=",queryString=queryParam+offertaid;$window.location.href=config.urls.registration+queryString}},function(){logger.debug("-- CANCEL --")})}function openRedirectDialog(title,message,offertaID,redirectUrl,gotoStep){var items=["Item ONE","Item TWO","Item THREE",message,title],invocable={items:function(){return items}},modalInstance=modalDialog.openModalDialog("worksOkDialog",invocable);modalInstance.result.then(function(){var queryString=redirectUrl+"?idPosizione="+offertaID+"&typePosition="+ctrl.tipocandidatura;"undefined"!=typeof gotoStep&&(queryString=queryString+"&goTo="+gotoStep),$window.location.href=queryString})}function tryCandidatura(offertaID,nomePos){lavoroService.inviaCandidatura(ctrl.tipocandidatura,offertaID).then(function(){$window.ga("send","event",config.dictionary.gaLogger,"candidati_ora",nomePos),$window.location.href=config.urls.confirmCandidate+"?id="+offertaID+"&type="+ctrl.tipocandidatura},function(response){509==response.status&&(response.data.code==config.errorCodes.missingFormazione&&openRedirectDialog(config.dictionary.genericAlertDialogTitle,response.data.message,offertaID,config.urls.wizard),response.data.code==config.errorCodes.cvIncomplete&&openRedirectDialog(config.dictionary.genericAlertDialogTitle,response.data.message,offertaID,config.urls.onlyFile,response.data.go),response.data.code==config.errorCodes.tooMuchPosisitions&&popupService.removeCandidaturePopup(function(){tryCandidatura(offertaID,nomePos)}))})}var ctrl=this;"undefined"==typeof ctrl.tipocandidatura&&(ctrl.tipocandidatura="SPEC"),ctrl.candidati=function(){if(logger.debug("invio candidatura per offerta di lavoro %s",ctrl.offerta),userService.userLogged===!1)return $window.ga("send","event",config.dictionary.gaFreeVisit,"candidati_ora",ctrl.nome),openDialog(ctrl.offerta);if(ctrl.offerta<=0)throw new ApplicationError("id offerta negativo o minore di 0","errore");tryCandidatura(ctrl.offerta,ctrl.nome)}}candidatiController.$inject=["lavoroService","userService","modalDialog","$window","logger","ApplicationError","popupService"],angular.module("candidatiButton").controller("candidatiController",candidatiController).component("candidatiBtn",{template:'<a ng-click="$ctrl.candidati()" class="{{::$ctrl.stile}}">Candidati ora</a>',controller:candidatiController,bindings:{offerta:"<",nome:"@",stile:"@",tipocandidatura:"@"}})}(),function(){"use strict";function popupCancellaAccountController(logger,userService,validationErrorHandlerService,$scope,$window){function resetValidationErrorFromServer(){ctrl.errorMsg=null,ctrl.wrongField=null}var $error509,ctrl=this;ctrl.$onInit=function(){resetValidationErrorFromServer(),$error509=$scope.$on(config.events.ERROR509,function(event,args){logger.debug("catturato evento 509",angular.toJson(args)),ctrl.wrongField=args.wrongField,ctrl.errorMsg=args.errorMsg,ctrl.errorMsgEnabled=!0}),logger.activationCompleted("popupCancellaAccountController")},ctrl.$onDestroy=function(){logger.destructionCompleted("popupCancellaAccountController")},ctrl.cancel=function(){logger.debug("cancel pressed"),ctrl.close({$value:"cancel"})},ctrl.popupConfirm=function(valid){resetValidationErrorFromServer(),ctrl.popupErrorMsgEnabled=!0,valid&&userService.deleteAccount(ctrl.popupData.email).then(function(){$window.ga("send","event",config.dictionary.gaFreeVisit,"richiedi_cancellazione",""),logger.debug("accountDelete ok"),ctrl.popupData.email=null,ctrl.close({$value:"ok"})},validationErrorHandlerService.fiveOnineHandler)}}popupCancellaAccountController.$inject=["logger","userService","validationErrorHandlerService","$scope","$window"],angular.module("popup").controller("popupCancellaAccountController",popupCancellaAccountController).component("popupCancellaAccountDialog",{templateUrl:"/esselungajob20/app/common/modules/popup/templates/popup.cancellaAccount.html",controller:"popupCancellaAccountController",bindings:{resolve:"<",close:"&",dismiss:"&"}})}(),function(){"use strict";function PopupController(logger,$sce){var ctrl=this;ctrl.$onInit=function(){logger.activationCompleted("popupController"),ctrl.message=$sce.trustAsHtml(ctrl.resolve.message),ctrl.title=ctrl.resolve.title},ctrl.$onDestroy=function(){logger.destructionCompleted("popupController")},ctrl.ok=function(){logger.debug("Ok button pressed"),ctrl.close({$value:"ok"})}}PopupController.$inject=["logger","$sce"],angular.module("popup").controller("popupController",PopupController).component("popup",{templateUrl:"/esselungajob20/app/common/modules/popup/templates/popup.html",controller:"popupController",bindings:{dismiss:"&",close:"&",resolve:"<"}})}(),function(){"use strict";function popupOkCancelController(logger){var ctrl=this;ctrl.$onInit=function(){ctrl.message=ctrl.resolve.items[3],ctrl.title=ctrl.resolve.items[4],logger.activationCompleted("popupDialogOkCancelController")},ctrl.$onDestroy=function(){logger.destructionCompleted("popupDialogOkCancelController")},ctrl.accept=function(){logger.debug("ok button pressed"),ctrl.close({$value:"ok"})},ctrl.cancel=function(){logger.debug("cancel pressed"),ctrl.close({$value:"cancel"})}}popupOkCancelController.$inject=["logger"],angular.module("popup").controller("popupOkCancelController",popupOkCancelController).component("popupOkCancelDialog",{templateUrl:"/esselungajob20/app/common/modules/popup/templates/popup.dialogOkCancel.html",controller:"popupOkCancelController",controllerAs:"popupDialogOkCancelCtrl",bindings:{resolve:"<",close:"&",dismiss:"&"}})}(),function(){"use strict";function PopupRegisterController(logger){var ctrl=this;ctrl.$onInit=function(){ctrl.items=ctrl.resolve.items,ctrl.selected={item:ctrl.items[3]},logger.activationCompleted("WorkDialogController")},ctrl.$onDestroy=function(){logger.destructionCompleted("WorkDialogController")},ctrl.ok=function(){logger.debug("Registrati button pressed"),ctrl.close({$value:"ok_"+ctrl.selected.item})},ctrl.registrati=function(){logger.debug("Ok button pressed"),ctrl.close({$value:"register_"+ctrl.selected.item})},ctrl.cancel=function(){logger.debug("Cancel button pressed"),ctrl.dismiss({$value:"cancel"})}}PopupRegisterController.$inject=["logger"],angular.module("popup").controller("popupRegisterController",PopupRegisterController).component("popupRegister",{templateUrl:"/esselungajob20/app/common/modules/popup/templates/popup.register.html",controller:"popupRegisterController",controllerAs:"popupRegisterCtrl",bindings:{resolve:"<",close:"&",dismiss:"&"}})}(),function(){"use strict";function popupRemoveCandidatureController(logger,userService){var ctrl=this;ctrl.candidature=[],ctrl.$onInit=function(){userService.getCandidature().then(function(response){logger.dataReceived("getCandidature",response),ctrl.candidature=response}),logger.activationCompleted("popupRemoveCandidatureController")},ctrl.$onDestroy=function(){logger.destructionCompleted("popupRemoveCandidatureController")},ctrl.confirm=function(){var i,positionsToBeDeleted=[];for(i in ctrl.candidature)1==ctrl.candidature[i].checked&&positionsToBeDeleted.push({specifica:ctrl.candidature[i].specifica,idCandidatura:ctrl.candidature[i].idCandidatura});userService.removeCandidatura(positionsToBeDeleted).then(function(){logger.debug("Candidature cancellate"),ctrl.close({$value:"ok"})})},ctrl.cancel=function(){logger.debug("cancel pressed"),ctrl.close({$value:"cancel"})}}popupRemoveCandidatureController.$inject=["logger","userService"],angular.module("popup").controller("popupRemoveCandidatureController",popupRemoveCandidatureController).component("popupRemoveCandidatureDialog",{templateUrl:"/esselungajob20/app/common/modules/popup/templates/popup.removeCandidature.html",controller:"popupRemoveCandidatureController",bindings:{resolve:"<",close:"&",dismiss:"&"}})}(),function(){"use strict";function suggerimentoService($resource){var srv=this,suggestionEndpoint=$resource(config.endpoints.root+config.endpoints.suggestion),popularQueryEndpoint=$resource(config.endpoints.root+config.endpoints.popularquery);srv.getSuggestion=function(param){return suggestionEndpoint.save({query:param}).$promise},srv.getPopular=function(param){return popularQueryEndpoint.save({query:param}).$promise}}suggerimentoService.$inject=["$resource"],angular.module("suggerimentoLfsApp").service("suggerimentoServices",suggerimentoService)}(),function(){"use strict";function suggerimentoController(suggerimentoServices,$window){var ctrl=this;ctrl.suggestion=[],ctrl.suggestion.type=[],ctrl.suggestion.regions=[],ctrl.popular=[],ctrl.viewRegion=!1,ctrl.query="",ctrl.view=!1,ctrl.viewMobile=!1,ctrl.searchImage=config.images.base+config.images.search_lfs,ctrl.searchToggle=function(){ctrl.viewMobile=!ctrl.viewMobile},ctrl.clickAnnunci=function(annunci){var queryString="?query="+ctrl.query+"&type="+annunci;$window.location.href=config.urls.risultato+queryString},ctrl.clickRegioni=function(region){var queryString="?query="+ctrl.query+"&type=POSITION&region="+region;$window.location.href=config.urls.risultato+queryString},ctrl.clickPopular=function(region){var queryString="?query="+region;$window.location.href=config.urls.risultato+queryString},ctrl.search=function(){if(ctrl.query.length>2){var queryString="?query="+ctrl.query;$window.location.href=config.urls.risultato+queryString}},ctrl.enterType=function(name){"Annunci"===name?ctrl.viewRegion=!0:ctrl.viewRegion=!1},ctrl.press=function(){ctrl.query.length>3?(suggerimentoServices.getSuggestion(ctrl.query).then(function(response){ctrl.suggestion.type=[],ctrl.suggestion.regions=[],ctrl.suggestion.regions=response.regions,response.type.forEach(function(value,key){"POSITION"===value&&ctrl.suggestion.type.push({label:"Annunci",value:value,order:1}),"JOBDAY"===value&&ctrl.suggestion.type.push({label:"Job Day",value:value,order:2}),"WEBPAGE"===value&&ctrl.suggestion.type.push({label:"Contenuti",value:value,order:3})}),response.type.length>0&&(ctrl.view=!0)},function(response){ctrl.suggestion.type=[],ctrl.suggestion.regions=[]}),suggerimentoServices.getPopular(ctrl.query).then(function(response){ctrl.popular=[],ctrl.popular=response.popularQuery,ctrl.popular.length>0&&(ctrl.view=!0)},function(response){ctrl.popular=[]})):ctrl.view=!1},ctrl.$onInit=function(){}}suggerimentoController.$inject=["suggerimentoServices","$window"],angular.module("suggerimentoLfsApp").component("suggerimentoLfs",{controller:suggerimentoController,templateUrl:function($element,$attrs){return angular.isUndefined($attrs.mobile)?"/esselungajob20/app/common/modules/suggerimentoLfs/templates/suggerimentoLfs.html":"/esselungajob20/app/common/modules/suggerimentoLfs/templates/suggerimentoLfs.mobile.html"}})}(),angular.module("works").component("negoziAreaPopup",{controller:["$scope",function($scope){var unwatchClosingPopup,ctrl=this;ctrl.$onInit=function(){unwatchClosingPopup=$scope.$on(config.events.WORKS_CLOSE_AREA_NEGOZI_POPUP,function(event,args){console.log(args,ctrl.offertaid),args.id!=ctrl.offertaid&&ctrl.close()})},ctrl.$onDestroy=function(){unwatchClosingPopup()},ctrl.close=function(){ctrl.onClose()}}],templateUrl:"/esselungajob20/app/common/modules/works/templates/negoziArea.html",bindings:{aree:"=",luogo:"@",onClose:"&",offertaid:"@"}}),function(){"use strict";function workController(queryStringService,$rootScope){var ctrl=this;ctrl.detailUrl=config.urls.offerta_dettaglio,ctrl.$onInit=function(){"undefined"==typeof ctrl.dept&&(ctrl.dept=queryStringService.getParameterByName("dept"))},ctrl.getPicture=function(logo){return"ESSELUNGA"==logo?config.urls.logo_esselunga:"ESSERBELLA"==logo?config.urls.logo_esserbella:"ATLANTIC"==logo?config.urls.logo_bar:void 0},ctrl.openPopup=function(offerta){offerta.popupVisible=!0,$rootScope.$broadcast(config.events.WORKS_CLOSE_AREA_NEGOZI_POPUP,{id:offerta.id})},ctrl.closePopup=function(offerta){offerta.popupVisible=!1}}workController.$inject=["queryStringService","$rootScope"],angular.module("works").controller("workController",workController).component("worksTable",{templateUrl:"/esselungajob20/app/common/modules/works/templates/works.html",controller:"workController",bindings:{offerte:"<",dept:"<"}})}(),function(){"use strict";function WorkDialogController(logger){var ctrl=this;ctrl.$onInit=function(){ctrl.items=ctrl.resolve.items,ctrl.selected={item:ctrl.items[3]},logger.activationCompleted("WorkDialogController")},ctrl.$onDestroy=function(){logger.destructionCompleted("WorkDialogController")},ctrl.ok=function(){logger.debug("Registrati button pressed"),ctrl.close({$value:"ok_"+ctrl.selected.item})},ctrl.registrati=function(){logger.debug("Ok button pressed"),ctrl.close({$value:"register_"+ctrl.selected.item})},ctrl.cancel=function(){logger.debug("Cancel button pressed"),ctrl.dismiss({$value:"cancel"})}}WorkDialogController.$inject=["logger"],angular.module("works").controller("workDialogController",WorkDialogController).component("worksDialog",{templateUrl:"/esselungajob20/app/common/modules/works/templates/modals/dialog.html",controller:"workDialogController",controllerAs:"workDialogCtrl",bindings:{resolve:"<",close:"&",dismiss:"&"}})}(),function(){"use strict";function WorkDialogOkCancelController(logger){var ctrl=this;ctrl.$onInit=function(){ctrl.message=ctrl.resolve.items[3],ctrl.title=ctrl.resolve.items[4],logger.activationCompleted("workDialogOkCancelController")},ctrl.$onDestroy=function(){logger.destructionCompleted("workDialogOkCancelController")},ctrl.accept=function(){logger.debug("ok button pressed"),ctrl.close({$value:"ok"})},ctrl.cancel=function(){logger.debug("cancel pressed"),ctrl.close({$value:"cancel"})}}WorkDialogOkCancelController.$inject=["logger"],angular.module("works").controller("workDialogOkCancelController",WorkDialogOkCancelController).component("worksOkCancelDialog",{templateUrl:"/esselungajob20/app/common/modules/works/templates/modals/dialogOkCancel.html",controller:"workDialogOkCancelController",controllerAs:"workDialogOkCancelCtrl",bindings:{resolve:"<",close:"&",dismiss:"&"}})}(),function(){"use strict";function WorkDialogOkController(logger){var ctrl=this;ctrl.$onInit=function(){ctrl.message=ctrl.resolve.items[3],ctrl.title=ctrl.resolve.items[4],logger.activationCompleted("workDialogOkController")},ctrl.$onDestroy=function(){logger.destructionCompleted("workDialogOkController")},ctrl.ok=function(){logger.debug("Registrati button pressed"),ctrl.close({$value:"ok"})}}WorkDialogOkController.$inject=["logger"],angular.module("works").controller("workDialogOkController",WorkDialogOkController).component("worksOkDialog",{templateUrl:"/esselungajob20/app/common/modules/works/templates/modals/dialogOk.html",controller:"workDialogOkController",controllerAs:"workDialogOkCtrl",bindings:{resolve:"<",close:"&",dismiss:"&"}})}(),angular.module("works").directive("negoziArea",["$timeout",function($timeout){function link(scope,element,attrs){var visible=!1,lista=element.find("ul");element.on("click",function(){visible?lista.hide():lista.show(),visible=!visible}),element.on("mouseleave",function(){visible&&$timeout(function(){lista.hide(),visible=!1},2e3)})}return{link:link,scope:{aree:"="},template:'<div class="negoziAreaList"><ul><li ng-repeat="(key,value) in aree">{{::value}}</li></ul></div>'}}]),function(){"use strict";function headerLoginController(isMobileService,userService,logger,$timeout,$rootScope,$scope,queryStringService,$window,popupService,$http){var ctrl=this;$rootScope.sendEvent=function(action,label){userService.userLogged?$window.ga("send","event",config.dictionary.gaLogger,action,label):$window.ga("send","event",config.dictionary.gaFreeVisit,action,label)},ctrl.$onInit=function(){ctrl.cvUrl=config.urls.curriculum,ctrl.profileUrl=config.urls.profilo,ctrl.recoveryPswUrl=config.urls.recoveryPswUrl,ctrl.loginVisibility=!1,ctrl.errorMsgEnabled=!1,ctrl.errorFromServer=!1,ctrl.data={email:null,password:null},ctrl.username=void 0,ctrl.captcha=!1,ctrl.disableLogin=!1,ctrl.captcha="",ctrl.codeCaptcha=null,retrieveCaptchaKey($http),$scope.$on(config.events.LOGIN_CAPTCHA,function(event,args){ctrl.codeCaptcha=args.captcha}),userService.isUserLogged().then(function(response){ctrl.isLogged=!0,ctrl.username=response.username,ctrl.name=response.nome,ctrl.oa="M"==response.sesso?"o":"a",logger.debug("Trovato utente %s in sessione",ctrl.username)},function(errorResponse){logger.debug("user not logged"),"CAPTCHA"===errorResponse.field?(ctrl.captcha=!0,ctrl.disableLogin=!1):(ctrl.captcha=!1,ctrl.disableLogin=!1),ctrl.isLogged=!1}),isMobileService.isMobile()||angular.element($window).bind("scroll",function(){this.pageYOffset>=100&&(ctrl.loginVisibility=!1,ctrl.errorMsgEnabled=!1,$scope.$apply())}),logger.activationCompleted("headerLoginController")},ctrl.loginToggle=function(){ctrl.loginVisibility=!ctrl.loginVisibility,ctrl.errorMsgEnabled=!1},ctrl.logout=function(){userService.logout().then(function(){$rootScope.$broadcast(config.events.USER_LOGOUT),ctrl.isLogged=!1,logger.debug("Logout effettuato correttamente dall'utente %s",ctrl.username),ctrl.username=void 0,ctrl.errorMsgEnabled=!1,ctrl.data.password=null,ctrl.loginToggle()})},ctrl.login=function(valid){ctrl.errorMsgEnabled=!0,ctrl.errorFromServer=!1,ctrl.data.email&&ctrl.data.password&&userService.login(ctrl.data.email,ctrl.data.password,ctrl.codeCaptcha).then(function(response){$window.ga("send","event",config.dictionary.gaFreeVisit,"accedi",""),$rootScope.$broadcast(config.events.USER_LOGIN),ctrl.data.password=null,logger.debug("Autenticazione effettuata per l'utente %s",ctrl.data.email),ctrl.isLogged=!0,ctrl.username=ctrl.data.email,ctrl.name=response.nome,ctrl.oa="M"==response.sesso?"o":"a",$timeout(function(){ctrl.loginToggle()},config.loginShowTime);var jobDayID=queryStringService.getParameterByName("jobDayID"),onlyfile=queryStringService.getParameterByName("onlyfile");if(null!=jobDayID&&"undefined"!=typeof jobDayID){var queryString="?jobDayID="+jobDayID,utm_source=queryStringService.getParameterByName("utm_source"),utm_medium=queryStringService.getParameterByName("utm_medium"),utm_campaign=queryStringService.getParameterByName("utm_campaign"),utm_content=queryStringService.getParameterByName("utm_content"),utm_term=queryStringService.getParameterByName("utm_term"),term="";angular.isUndefined(utm_source)||null==utm_source||(term+="&utm_source="+utm_source+"&utm_medium="+utm_medium+"&utm_campaign="+utm_campaign+"&utm_content="+utm_content+"&utm_term="+utm_term),$window.location.href=config.urls.job_day_questionario+queryString+term}null!=onlyfile&&"undefined"!=typeof onlyfile&&(idPosizione=queryStringService.getParameterByName("idPosizione"),positionType=queryStringService.getParameterByName("typePosition"),$window.location.href=config.urls.onlyFile+"?idPosizione="+idPosizione+"&typePosition="+positionType);var wizard=queryStringService.getParameterByName("wizard"),idPosizione=queryStringService.getParameterByName("idPosizione"),positionType=queryStringService.getParameterByName("typePosition");null!=wizard&&"undefined"!=typeof wizard&&($window.location.href=config.urls.wizard+"?idPosizione="+idPosizione+"&typePosition="+positionType)},function(errorResponse){"401"==errorResponse.status&&("CAPTCHA"===errorResponse.data.field?(ctrl.captcha=!0,ctrl.disableLogin=!1,$rootScope.$broadcast(config.events.RESET_CAPTCHA,{})):(ctrl.captcha=!1,ctrl.disableLogin=!1),ctrl.isLogged=!1,ctrl.errorFromServer=!0,ctrl.errorMessage=errorResponse.data.message,logger.warn("Autenticazione fallita per l'utente %s",ctrl.data.email))})},ctrl.showCancelUserPopup=function(){popupService.cancellaAccountPopup(function(){popupService.infoPopup(config.dictionary.genericConfirmDialogTitle,config.dictionary.emailSentDialogMessage,null,function(){$window.location.href=config.urls.homepage})})}}headerLoginController.$inject=["isMobileService","userService","logger","$timeout","$rootScope","$scope","queryStringService","$window","popupService","$http"],angular.module("headerLogin").controller("headerLoginController",headerLoginController).component("headerLoginComponent",{templateUrl:"/esselungajob20/app/common/modules/headerLogin/templates/headerLogin.html",controller:headerLoginController})}(),function(){angular.module("popup").run(["$templateCache",function($templateCache){$templateCache.put("/esselungajob20/app/common/modules/popup/templates/popup.cancellaAccount.html",'<article class="overlay__form"><a class="overlay__close j-overEditClose" ng-click="$ctrl.close()">×</a><p class="registrationForm__title">Cancellati dal sito</p><p class="registrationForm__paragraph">Inserisci la tua mail</p><form class="genericForm" name="cancellaAccountForm" novalidate><div class="overlay__fieldContainer"><fieldset class="genericForm__field" ng-class="{\'hasError\' : (!cancellaAccountForm.emailPopup.$valid || $ctrl.wrongField == \'noScrollPopup\') && $ctrl.popupErrorMsgEnabled == true}"><label for="email" class="genericForm__label">E-Mail</label><input id="email" class="genericForm__input" name="emailPopup" type="email" required="" placeholder="E-mail" ng-model="$ctrl.popupData.email"> <span class="genericForm__error" ng-if="$ctrl.wrongField!=\'noScrollPopup\'">Controlla l\'email inserita </span><span class="genericForm__error" ng-if="$ctrl.wrongField==\'noScrollPopup\'">{{$ctrl.errorMsg}}</span></fieldset></div><div class="overlay__btn"><button class="genericForm__btn j-openEdit" type="button" ng-click="$ctrl.popupConfirm(cancellaAccountForm.$valid)">Conferma</button></div></form></article>'),$templateCache.put("/esselungajob20/app/common/modules/popup/templates/popup.dialogOkCancel.html",'<article class="advice"><h3 class="advice__title">{{popupDialogOkCancelCtrl.title}}</h3><p class="advice__paragraph">{{popupDialogOkCancelCtrl.message}}</p><a class="editorial__btn--empty advice__btn" ng-click="popupDialogOkCancelCtrl.accept()">OK</a> <a class="editorial__btn--empty advice__btn" type="button" ng-click="popupDialogOkCancelCtrl.cancel()">Annulla</a></article>'),
$templateCache.put("/esselungajob20/app/common/modules/popup/templates/popup.html",'<article class="advice"><h3 class="advice__title">{{$ctrl.title}}</h3><p class="advice__paragraph" ng-bind-html="$ctrl.message"></p><a class="editorial__btn--empty advice__btn" ng-click="$ctrl.ok()">OK</a></article>'),$templateCache.put("/esselungajob20/app/common/modules/popup/templates/popup.register.html",'<article class="advice"><h3 class="advice__title">Avviso</h3><p class="advice__paragraph">Per candidarsi è necessario essersi registrati ed aver effettuato l\'operazione di login</p><a class="editorial__btn--empty advice__btn" ng-click="popupRegisterCtrl.ok()">OK</a> <a class="editorial__btn--empty advice__btn" type="button" ng-click="popupRegisterCtrl.registrati()">Registrati</a></article>'),$templateCache.put("/esselungajob20/app/common/modules/popup/templates/popup.removeCandidature.html",'<article class="advice"><a class="overlay__close j-overEditClose" ng-click="$ctrl.close()">×</a><h3 class="advice__title">Avviso</h3><p class="advice__paragraph">Attenzione, hai già raggiunto il numero massimo di candidature. Seleziona qui sotto almeno una candidatura da rimuovere così da poter procedere a candidarti alla posizione desiderata, oppure chiudi la finestra senza proseguire.</p><p class="advice__paragraph" ng-if="$ctrl.candidature.length==0">Attendere il caricamento delle candidature..</p><table class="genericTable recapTable"><tbody><tr class="genericTable__row" ng-repeat="candidatura in $ctrl.candidature"><td class="genericTable__cell genericTable__first"><span class="genericTable__celltitle">Posizione</span>{{::candidatura.posizioneString}}</td><td class="genericTable__cell genericTable__cell--delete"><input id="select{{$index}}" class="genericForm__check" type="checkbox" ng-model="candidatura.checked"><label for="select{{$index}}" class="genericForm__checkLabel"></label></td></tr></tbody></table><a class="editorial__btn--empty advice__btn" ng-click="$ctrl.cancel()">Annulla </a><a class="editorial__btn advice__btn" ng-click="$ctrl.confirm()">Conferma</a></article>')}])}(),function(){angular.module("headerLogin").run(["$templateCache",function($templateCache){$templateCache.put("/esselungajob20/app/common/modules/captcha/templates/captcha.html",'<div ng-show="$ctrl.show" id="component_captcha"><div id="g-recaptcha" name="g-recaptcha" vc-recaptcha theme="\'light\'" key="$ctrl.model.key" on-create="$ctrl.setWidgetId(widgetId)" on-success="$ctrl.setResponse(response)" on-expire="$ctrl.cbExpiration()"></div></div>')}])}(),function(){angular.module("headerLogin").run(["$templateCache",function($templateCache){$templateCache.put("/esselungajob20/app/common/modules/headerLogin/templates/headerLogin.html",'<li class="serviceNav__item j-ddm" ng-class="{\'logged\' : $ctrl.isLogged == true , \'ddmOpen\' : $ctrl.loginVisibility == true}" ng-controller="headerLoginController" id="headerLogin"><a class="serviceNav__link j-ddmBtn" ng-click="$ctrl.loginToggle()"><span class="serviceNav__icon" ng-class="{\'i-logged\' : $ctrl.isLogged == true, \'i-profile\' :  $ctrl.isLogged == false}"></span> <span ng-if="$ctrl.isLogged" class="serviceNav__label">MY CV</span> <span ng-if="!$ctrl.isLogged" class="serviceNav__label">LOG IN</span></a><div id="loginForm" name="loginForm" class="j-ddmItem ddmProfile" ng-class="{\'ddmProfile--logged\' : $ctrl.isLogged == true}" ng-if="$ctrl.loginVisibility"><div class="ddmProfile__logged" ng-if="$ctrl.isLogged"><ul class="ddmProfile__action"><li class="ddmProfile__welcomeItem"><span class="welcomeItem__message">Benvenut{{$ctrl.oa}}</span> <span class="welcomeItem__userName">{{$ctrl.name}}</span></li><li class="ddmProfile__actionItem"><a class="ddmProfile__link" href="{{::$ctrl.profileUrl}}">vai al profilo</a></li><li class="ddmProfile__actionItem"><a class="ddmProfile__link" ng-href="{{::$ctrl.cvUrl}}">aggiorna il curriculum</a></li><li class="ddmProfile__actionItem"><a class="ddmProfile__link ddmProfile__link--logOut" ng-click="$ctrl.logout()">logOut</a></li></ul></div><form ng-if="!$ctrl.isLogged" name="loginForm" novalidate ng-keypress="($event.which===13)?$ctrl.login(loginForm.$valid):0"><div class="ddmProfile__login"><fieldset class="genericForm__field" ng-class="{\'hasError\' : !loginForm.email.$valid && $ctrl.errorMsgEnabled == true}"><label for="email" class="genericForm__label">E-mail</label><input id="email" class="genericForm__input" name="email" type="email" required placeholder="E-mail" ng-model="$ctrl.data.email"> <span class="genericForm__error"></span></fieldset><fieldset class="genericForm__field" ng-class="{\'hasError\' : !loginForm.password.$valid && $ctrl.errorMsgEnabled == true}"><label for="password" class="genericForm__label">Password</label><input id="password" class="genericForm__input" name="password" type="password" required placeholder="Password" ng-model="$ctrl.data.password"> <span class="genericForm__error"></span></fieldset><span ng-class="{\'hasError\' :  $ctrl.errorFromServer == true}"><c class="genericForm__error">{{$ctrl.errorMessage}}</c></span><a href="{{::$ctrl.recoveryPswUrl}}" class="genericForm__note">Hai dimenticato la password?</a><captcha show="$ctrl.captcha" position="INDEX"></captcha><br><button type="button" class="genericForm__btn" ng-click="$ctrl.login(loginForm.$valid)">accedi</button> <a ng-click="$ctrl.showCancelUserPopup()" class="genericForm__note j-openEdit" data-over="cancella">Cancellati dal sito</a></div></form></div></li>')}])}(),function(){angular.module("suggerimentoLfsApp").run(["$templateCache",function($templateCache){$templateCache.put("/esselungajob20/app/common/modules/suggerimentoLfs/templates/suggerimentoLfs.html",'<form><div class="search_container"><input class="search-control input-search" type="text" autocomplete="off" placeholder="Cerca..." ng-change="$ctrl.press()" ng-model="$ctrl.query"> <button class="search-control-button" ng-click="$ctrl.search()"><img src="{{$ctrl.searchImage}}" class="search_img"></button></div></form><div class="contSearch contSearchOpen" ng-if="$ctrl.view"><div class="suggestions"><div class="sections-container"><ul id="sections-list"><li ng-repeat="type in $ctrl.suggestion.type | orderBy:type.label:asc" ng-mouseenter="$ctrl.enterType(type.label)" ng-click="$ctrl.clickAnnunci(type.value)"><a href="#">{{type.label}}</a></li></ul></div><div class="separator"><hr></div><div class="announcements-container" ng-if="$ctrl.popular.length>0"><div class="subtitle-announcements">Ricerche popolari:</div><ul id="announcements-list"><li ng-repeat="popular in $ctrl.popular" ng-mouseenter="$ctrl.enterType()" ng-click="$ctrl.clickPopular(popular)"><a href="#">{{popular}}</a></li></ul></div></div><div class="regions"><ul id="regions-list" ng-if="$ctrl.viewRegion"><li ng-repeat="region in $ctrl.suggestion.regions" ng-click="$ctrl.clickRegioni(region)"><a href="#">{{region}}</a></li></ul></div></div>'),$templateCache.put("/esselungajob20/app/common/modules/suggerimentoLfs/templates/suggerimentoLfs.mobile.html",'<header-search-component><li class="serviceNav__item search-nav-item" ng-class="{\'logged\' : $ctrl.isLogged == true , \'seaechOpen\' : $ctrl.searchVisibility == true}" id="headerSearch"><a id="searchBtn-ID" class="serviceNav__link searchBtn" ng-click="$ctrl.searchToggle()"><span class="serviceNav__icon i-search" ng-class="{\'i-logged\' : $ctrl.isLogged == true, \'i-profile\' :  $ctrl.isLogged == false}"></span><!-- ngIf: $ctrl.isLogged --> <!-- ngIf: !$ctrl.isLogged --><span ng-if="!$ctrl.isLogged" class="serviceNav__label ng-scope">CERCA</span><!-- end ngIf: !$ctrl.isLogged --></a><div class="contSearchMobile" id="contSearchMobileID" ng-class="{\'is-open-search\': $ctrl.viewMobile}"><div class="search-input"><form><div class="search_container"><input class="search-control input-search" type="text" autocomplete="off" placeholder="Cerca..." ng-change="$ctrl.press()" ng-model="$ctrl.query"> <button class="search-control-button" ng-click="$ctrl.search()"><img src="{{$ctrl.searchImage}}" class="search_img"></button></div></form></div><div class="suggestions" ng-if="$ctrl.view"><div class="sections-container"><ul id="sections-list"><li ng-repeat="type in $ctrl.suggestion.type" ng-click="$ctrl.clickAnnunci(type.value)"><a ng-class="{\'annunci-suggestion\':(type===\'Annunci\' && $ctrl.suggestion.regions.length>0)}" href="#">{{type.label}}<span ng-class="{\'disclosure i-arrow-right\':(type===\'Annunci\' && $ctrl.suggestion.regions.length>0)}"></span></a></li></ul></div><div class="separator"><hr></div><div class="announcements-container"><div class="subtitle-announcements">Ricerche popolari:</div><ul id="announcements-list"><li ng-repeat="popular in $ctrl.popular" ng-mouseenter="$ctrl.enterType()" ng-click="$ctrl.clickPopular(popular)"><a href="#">{{popular}}</a></li></ul></div></div><div class="regions" ng-if="$ctrl.view"><ul id="regions-list"><li ng-repeat="region in $ctrl.suggestion.regions" ng-click="$ctrl.clickRegioni(region)"><a href="#">{{region}}</a></li></ul></div></div></li></header-search-component>')}])}(),function(){angular.module("works").run(["$templateCache",function($templateCache){$templateCache.put("/esselungajob20/app/common/modules/works/templates/negoziArea.html",'<div class="negoziArea"><a class="negoziArea__close" ng-click="$ctrl.close()">×</a><h4 class="negoziArea__title">Punti vendita {{::$ctrl.luogo}}</h4><ul><li ng-repeat="(key,value) in $ctrl.aree">{{::value}}</li></ul><a class="negoziArea__btn" ng-click="$ctrl.close()">Ok</a></div>'),$templateCache.put("/esselungajob20/app/common/modules/works/templates/works.html",'<table class="works"><tr class="works__position" ng-repeat="offerta in $ctrl.offerte\t| limitTo: $ctrl.limit" ng-class="{\'inscadenza\' : offerta.inscadenza }"><td class="works__value works__value--first works__scadenza"><span class="works__title">Scadenza</span> {{::offerta.scadenza}}</td><td class="works__value works__posizione"><span class="works__title">Posizione</span> {{::offerta.posizione}}</td><td class="works__value works__dove"><span class="works__title" ng-if="offerta.luogo">Dove</span> {{::offerta.luogo}} <span class="works__indirizzo" ng-if="offerta.negoziAreaList.length==1 && offerta.casetta==false">Negozio di {{::offerta.negoziAreaList[0]}}</span></td><td class="works__value works__store"><span class="works__iconStore i-store" title="Clicca per visualizzare l\'elenco dei punti vendita della zona geografica" ng-if="offerta.casetta==true" ng-click="$ctrl.openPopup(offerta)" ng-init="offerta.popupVisible=false"></span><negozi-area-popup ng-if="offerta.popupVisible" on-close="$ctrl.closePopup(offerta)" luogo="{{::offerta.luogo}}" offertaid="{{::offerta.id}}" aree="offerta.negoziAreaList"></negozi-area-popup></td><td class="works__value"><img class="works__img" ng-src="{{$ctrl.getPicture(offerta.logo)}}" alt="{{offerta.logo}}"></td><td class="works__value works__orario"><span class="works__title" ng-if="offerta.orario">Orario</span> {{::offerta.orario}}</td><td class="works__value works__cta"><candidati-btn offerta="offerta.id" nome="{{::offerta.posizione}}" stile="works__btn"></candidati-btn></td><td class="works__value works__infoWrapper"><div class="works__info"><a ng-href="{{::$ctrl.detailUrl}}?idDettaglio={{::offerta.id}}&idPosizione={{::offerta.idPosizione}}&dept={{$ctrl.dept}}&store={{offerta.logo}}" class="i-info worksInfo__icon"></a></div></td></tr></table>'),$templateCache.put("/esselungajob20/app/common/modules/works/templates/modals/dialog.html",'<!--<div class="modal-header">--><!--</div>--><!--<div class="modal-body" id="modal-body">--><!--<ul>--><!--<li ng-repeat="item in workDialogCtrl.items">--><!--<a href="#" ng-click="$event.preventDefault(); workDialogCtrl.selected.item = item">{{ ::item }}</a>--><!--</li>--><!--</ul>--><!--Selected: <b>{{ workDialogCtrl.selected.item }}</b>--><!--</div>--><article class="advice"><h3 class="advice__title">Avviso</h3><p class="advice__paragraph">Per candidarsi è necessario essersi registrati ed aver effettuato l\'operazione di login</p><a class="editorial__btn--empty advice__btn" ng-click="workDialogCtrl.ok()">OK</a> <a class="editorial__btn--empty advice__btn" type="button" ng-click="workDialogCtrl.registrati()">Registrati</a></article><!--<div class="modal-footer">--><!--<a class="editorial__btn&#45;&#45;empty advice__btn" ng-click="workDialogCtrl.ok()">OK</a>--><!--<a class="editorial__btn&#45;&#45;empty advice__btn" type="button" ng-click="workDialogCtrl.registrati()">Registrati</a>--><!--&lt;!&ndash;<button class="btn btn-warning" type="button" ng-click="workDialogCtrl.cancel()"></button>&ndash;&gt;--><!--</div>-->'),$templateCache.put("/esselungajob20/app/common/modules/works/templates/modals/dialogOk.html",'<!--<div class="modal-header">--><!--</div>--><!--<div class="modal-body" id="modal-body">--><!--<ul>--><!--<li ng-repeat="item in workDialogCtrl.items">--><!--<a href="#" ng-click="$event.preventDefault(); workDialogCtrl.selected.item = item">{{ ::item }}</a>--><!--</li>--><!--</ul>--><!--Selected: <b>{{ workDialogCtrl.selected.item }}</b>--><!--</div>--><article class="advice"><h3 class="advice__title">{{workDialogOkCtrl.title}}</h3><p class="advice__paragraph">{{workDialogOkCtrl.message}}</p><a class="editorial__btn--empty advice__btn" ng-click="workDialogOkCtrl.ok()">OK</a><!--<a class="editorial__btn&#45;&#45;empty advice__btn" type="button" ng-click="workDialogOkCtrl.registrati()">Registrati</a>--></article><!--<div class="modal-footer">--><!--<a class="editorial__btn&#45;&#45;empty advice__btn" ng-click="workDialogCtrl.ok()">OK</a>--><!--<a class="editorial__btn&#45;&#45;empty advice__btn" type="button" ng-click="workDialogCtrl.registrati()">Registrati</a>--><!--&lt;!&ndash;<button class="btn btn-warning" type="button" ng-click="workDialogCtrl.cancel()"></button>&ndash;&gt;--><!--</div>-->'),$templateCache.put("/esselungajob20/app/common/modules/works/templates/modals/dialogOkCancel.html",'<!--<div class="modal-header">--><!--</div>--><!--<div class="modal-body" id="modal-body">--><!--<ul>--><!--<li ng-repeat="item in workDialogCtrl.items">--><!--<a href="#" ng-click="$event.preventDefault(); workDialogCtrl.selected.item = item">{{ ::item }}</a>--><!--</li>--><!--</ul>--><!--Selected: <b>{{ workDialogCtrl.selected.item }}</b>--><!--</div>--><article class="advice"><h3 class="advice__title">{{workDialogOkCancelCtrl.title}}</h3><p class="advice__paragraph">{{workDialogOkCancelCtrl.message}}</p><a class="editorial__btn--empty advice__btn" ng-click="workDialogOkCancelCtrl.accept()">OK</a> <a class="editorial__btn--empty advice__btn" type="button" ng-click="workDialogOkCancelCtrl.cancel()">Annulla</a></article><!--<div class="modal-footer">--><!--<a class="editorial__btn&#45;&#45;empty advice__btn" ng-click="workDialogCtrl.ok()">OK</a>--><!--<a class="editorial__btn&#45;&#45;empty advice__btn" type="button" ng-click="workDialogCtrl.registrati()">Registrati</a>--><!--&lt;!&ndash;<button class="btn btn-warning" type="button" ng-click="workDialogCtrl.cancel()"></button>&ndash;&gt;--><!--</div>-->')}])}(),angular.module("homeApp",["loggerModule","applicationErrorModule","retryPolicyHandlerModule","httpErrorHandlerModule","headerLogin","suggerimentoLfsApp","userService","lavoroService","ngSanitize","popup","candidatiButton","imagePlaceholderModule"]),function(){"use strict";function posCarouselController(lavoroService,logger,$window,$timeout){function getMetaInfo(item){lavoroService.getMetaDataInfo(item.idPosizione).then(function(response){item.nomeDipendente=response.nomeDipendente,item.mansioneDipendente=response.mansioneDipendente,item.mottoDipendente=response.mottoDipendente},function(){lavoroService.getMetaFallback().then(function(response){item.nomeDipendente=response.nomeDipendente,item.mansioneDipendente=response.mansioneDipendente,item.mottoDipendente=response.mottoDipendente})})}var size,ctrl=this,active=0;config.params.timer_slider,$window.location.href;ctrl.$onInit=function(){lavoroService.getCarouselPositions().then(function(response){logger.dataReceived("getCarouselPositions");for(var i=0;i<response.list.length;i++)getMetaInfo(response.list[i]);ctrl.slides=response.list,size=response.list.length;var slidesTimeIntervalInMs=response.timer,slideTimer=$timeout(function interval(){active=active%size+1,active>=size&&(active=0),slideTimer=$timeout(interval,slidesTimeIntervalInMs)},slidesTimeIntervalInMs)}),logger.activationCompleted("posCarouselController")},ctrl.isActive=function(index){return index===active},ctrl.next=function(){active==size-1?active=0:active++},ctrl.prev=function(){0==active?active=size-1:active--},ctrl.openDetail=function(item){$window.location.href=config.urls.offerta_dettaglio+"?idDettaglio="+item.id+"&idPosizione="+item.idPosizione+"&dept="+item.dept+"&store="+item.logo},ctrl.getImgUrl=function(item){return config.endpoints.carouselImageMeta_AEM+item.idPosizione+"/"+item.idPosizione+".jpg"}}posCarouselController.$inject=["lavoroService","logger","$window","$timeout"],angular.module("homeApp").controller("posCarouselController",posCarouselController).component("carouselPosizioni",{templateUrl:"/esselungajob20/app/apps/homepage/templates/carouselPosizioni.html",controller:posCarouselController})}(),function(){"use strict";function cercaLavoroController(lavoroService,$window,logger,popupService,userService){function redirect(redirect_url){var queryString="?loc="+ctrl.data.luogoSelected.id+"&pos="+ctrl.data.posizioneSelected.id;$window.location.href=redirect_url+queryString}function checkZonaSelected(){return null!=ctrl.data.luogoSelected&&1==ctrl.data.luogoSelected.disabled&&(popupService.infoPopup(config.dictionary.ZoneErrorDialogTitle,config.dictionary.youCantSelectOptionDialogMessage),!0)}var ctrl=this;ctrl.$onInit=function(){ctrl.data={dipartimentoSelected:null,luogoSelected:{id:0,label:"Luogo"},posizioneSelected:{id:0,label:"Posizione"}},logger.activationCompleted("cercaLavoroController")},ctrl.cerca=function(){if(logger.debug("Cerco dipartimento: %s - posizione: %s - luogo: %s",angular.toJson(ctrl.data.dipartimentoSelected),angular.toJson(ctrl.data.posizioneSelected),angular.toJson(ctrl.data.luogoSelected)),null==ctrl.data.dipartimentoSelected)return void popupService.infoPopup(config.dictionary.missingDeptDialogTitle,config.dictionary.selectDepartmentDialogMessage);if(!checkZonaSelected()){var pos="",luo="";ctrl.data.luogoSelected.id>0&&(luo="_"+ctrl.data.luogoSelected.label),ctrl.data.posizioneSelected.id>0&&(pos="_"+ctrl.data.posizioneSelected.label),userService.userLogged===!1?$window.ga("send","event",config.dictionary.gaFreeVisit,"cerca_lavoro",ctrl.data.dipartimentoSelected+luo+pos):$window.ga("send","event",config.dictionary.gaLogger,"cerca_lavoro",ctrl.data.dipartimentoSelected+luo+pos),ctrl.data.dipartimentoSelected&&"NEG"==ctrl.data.dipartimentoSelected&&redirect(config.urls.negozio),ctrl.data.dipartimentoSelected&&"FUN"==ctrl.data.dipartimentoSelected&&redirect(config.urls.funzioni_centrali)}},ctrl.test=function(){alert("asdf")},ctrl.deptChanged=function(){lavoroService.getFiltroPosizioni(ctrl.data.dipartimentoSelected).then(function(response){logger.dataReceived("getFiltroPosizioni"),ctrl.data.posizione=response.posizione,ctrl.data.dipartimentoSelected&&"NEG"==ctrl.data.dipartimentoSelected?ctrl.data.luogo=lavoroService.convertJsonNegozio(response.luogo):ctrl.data.luogo=response.luogo},function(errorResponse){})}}cercaLavoroController.$inject=["lavoroService","$window","logger","popupService","userService"],angular.module("homeApp").controller("cercaLavoroController",cercaLavoroController).component("cercaLavoro",{templateUrl:"/esselungajob20/app/apps/homepage/templates/cercaLavoro.html",controller:cercaLavoroController})}(),function(){angular.module("homeApp").run(["$templateCache",function($templateCache){$templateCache.put("/esselungajob20/app/apps/homepage/templates/carouselPosizioni.html",'<section class="cardPosition__wrapper js-multipleSlider multipleSlider" data-callback="true" ng-if="$ctrl.slides.length"><div class="cardPosition__wrapperAux"><nav class="multipleSlider__nav js-multipleNav" ng-if="$ctrl.slides.length>1"><a ng-click="$ctrl.prev()" class="j-sliderPrev multipleSlider__prev"><span class="i-arrow"></span></a> <a ng-click="$ctrl.next()" class="j-sliderNext multipleSlider__next"><span class="i-arrow"></span></a></nav><h2 class="cardPosition__bitTitle">Annunci in evidenza</h2><ul class="cardPosition js-multipleSliderPosition"><li class="cardPosition__item js-multipleSliderItem multipleSlider__item" ng-repeat="item in $ctrl.slides" ng-class="{\'active\': $ctrl.isActive($index)}"><div class="cardPosition__description cardPosition__col multipleSlider__col"><div class="cardPositionAux js-multipleSliderVariable"><div class="cardPosition__header"><h3 class="cardPosition__subtitle">{{::item.luogo}}</h3><h1 class="cardPosition__title">{{::item.posizione}}</h1></div><p class="cardPosition__abstract">{{::item.descrizione | limitTo: 150}}...&nbsp; <a ng-click="$ctrl.openDetail(item)" class="cardPosition__link">LEGGI DI PIÙ</a></p></div></div><div class="cardPosition__action j-lastAnimation cardPosition__col multipleSlider__col"><div class="cardPositionAux"><candidati-btn offerta="item.id" nome="{{::item.posizione}}" stile="cardPosition__btn"></candidati-btn></div></div><div class="cardPosition__role cardPosition__col multipleSlider__col"><div class="cardPositionAux"><h2 class="cardPosition__name">{{::item.nomeDipendente}}</h2><h4 class="cardPosition__desc">{{::item.mansioneDipendente}}</h4><figure class="cardPosition__photo"><img class="cardPosition__img" ng-src="{{$ctrl.getImgUrl(item)}}" err-src="{{$ctrl.url}}/content/dam/ejb20/posizioniDettaglio/defaultCard.jpg" alt=""><figcaption class="cardPosition__caption">{{::item.mottoDipendente}}</figcaption></figure></div></div></li></ul></div></section>'),$templateCache.put("/esselungajob20/app/apps/homepage/templates/cercaLavoro.html",'<section class="canvasSearch"><div class="customSelect canvasSearch__fakeSelect"><select name="" id="selenium_area_funzionale_select" class="customSelect__select j-realSelect" ng-model="$ctrl.data.dipartimentoSelected" ng-change="$ctrl.deptChanged()"><option selected="selected" disabled="disabled" value="" class="j-selectOption select__option">Area</option><option value="NEG">Negozio</option><option value="FUN">Funzioni centrali</option></select></div><div class="customSelect canvasSearch__fakeSelect"><select name="" id="selenium_luogo_select" class="customSelect__select j-realSelect" ng-model="$ctrl.data.luogoSelected" ng-options="option.label disable when option.disabled for option in $ctrl.data.luogo track by option.id"><option selected="selected" disabled="disabled" value="" class="j-selectOption select__option">Luogo</option></select></div><div class="customSelect canvasSearch__fakeSelect"><select name="" id="selenium_posizione_select" class="customSelect__select" ng-model="$ctrl.data.posizioneSelected" ng-options="option.label for option in $ctrl.data.posizione track by option.id"><option selected="selected" disabled="disabled" value="" class="j-selectOption select__option">Posizione</option></select></div><button class="canvasSearch__btn" ng-click="$ctrl.cerca()">Cerca Lavoro</button></section>')}])}();